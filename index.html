<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bad Bxar Wrld dApp</title>
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Bad Bxar Wrld is now on Web3.0 for a trustless experience. Registered users can utilize their crypto wallets for purchases."
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <style>
      body {
        transition: background-color 0.3s, color 0.3s;
      }
      body.dark-mode {
        background-color: #121212;
        color: #ffffff;
      }
      .dark-mode-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        cursor: pointer;
        font-size: 1.5rem;
      }
      .dark-mode #dark-mode-icon {
        color: #ffffff;
      }
      
    </style>
  </head>
  <body>
    <!-- Floating Header -->
<header class="floating-header">
  <div class="logo">
    <img src="favicon-32x32.png" alt="Bad Bxar Wrld Logo">
  </div>
  <nav class="menu">
    <div class="dropdown">
      <button class="dropdown-toggle" id="dropdownMenuButton" aria-expanded="false">Menu</button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a href="https://www.bbspacecave.com" class="menu-item" data-tooltip="Bad Bxar Wrld is KYC compliant">Register Now</a>
        <a href="https://github.com/TheAverageNewishCoder/bbw-dapp" class="menu-item" data-tooltip="Create your own dapp">
          <span class="material-icons">code</span> GitHub
        </a>
      </div>
    </div>
  </nav>
</header>

    <button class="dark-mode-toggle" onclick="toggleDarkMode()">
      <span id="dark-mode-icon" class="material-icons">brightness_6</span>
    </button>
    <!-- Root div for React -->
    <div id="root"></div>

    <!-- Place the JavaScript here to ensure functions are available -->
    <script>
      function toggleDarkMode() {
        if (document.body.classList.contains('dark-mode')) {
          // Switching from dark mode to light mode
          document.body.classList.remove('dark-mode');
          document.body.classList.add('light-mode');
          
          // Update icon for light mode
          const icon = document.getElementById('dark-mode-icon');
          icon.textContent = 'light_mode'; // Sun icon
          icon.style.color = 'inherit';
          console.log('Switched to Light Mode: Icon updated to light_mode');
    
          // Save preference
          localStorage.setItem('darkMode', 'disabled');
        } else {
          // Switching from light mode to dark mode
          document.body.classList.remove('light-mode');
          document.body.classList.add('dark-mode');
    
          // Update icon for dark mode
          const icon = document.getElementById('dark-mode-icon');
          icon.textContent = 'dark_mode'; // Moon icon
          icon.style.color = '#ffffff';
          console.log('Switched to Dark Mode: Icon updated to dark_mode');
    
          // Save preference
          localStorage.setItem('darkMode', 'enabled');
        }
      }
    
      // Apply user's theme preference on page load
      document.addEventListener('DOMContentLoaded', function () {
        const darkModePreference = localStorage.getItem('darkMode');
        console.log('User theme preference on load:', darkModePreference);
        const icon = document.getElementById('dark-mode-icon');
    
        if (darkModePreference === 'enabled') {
          document.body.classList.add('dark-mode');
          icon.textContent = 'dark_mode'; // Moon icon
          icon.style.color = '#ffffff';
          console.log('Dark Mode applied on load');
        } else {
          document.body.classList.add('light-mode');
          icon.textContent = 'light_mode'; // Sun icon
          icon.style.color = 'inherit';
          console.log('Light Mode applied on load');
        }
      });
    </script>
    

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
